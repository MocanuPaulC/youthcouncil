<!DOCTYPE html>
<html lang="en"
	  xmlns:th="http://www.thymeleaf.org">
<head>

	<title th:text="${youthCouncil.getMunicipality()}"></title>
	<th:block th:insert="~{includes::head_fragment}"></th:block>
	<script defer src="/js/turnToEditable.js" type="module"></script>
	<script defer src="/js/actionPoint.js" type="module"></script>
</head>


<body th:attr="data-youthcouncil_id=${youthCouncil.getYouthCouncilId()}">
<th:block th:insert="~{includes::navbar(${authUser}, ${authAdmin}, 'actionpoint')}"></th:block>

<button
		class="edit btn btn-primary"
		th:if="${#authorization.expression('hasAuthority(''COUNCIL_ADMIN@' + youthCouncil.getMunicipality()+ ''')')}"
		type="button">
	Edit
</button>
<button
		id="subscribe-btn"
		th:class="'btn ' +${userHasSubscription?'btn-danger':'btn-primary'}"
		th:text="${userHasSubscription?'Unsubscribe:(':'Subscribe!'}">
</button>

<input class="actionPointId" th:id="'ap_'+${actionPoint.getActionPointId()}" type="hidden">
<input class="youthCouncilId" th:id="'yc_' + ${youthCouncil.getYouthCouncilId()}" type="hidden">
<input id="actionPointTitle" th:value="${actionPoint.getTitle()}" type="hidden">
<input id="authUserId" th:if="${authUser!=null}" th:value="${authUser.id}" type="hidden"/>

<h1 class="editable" id="title" th:text="${actionPoint.getTitle()}"></h1>
<h2 class="editable" id="description" th:text="${actionPoint.getDescription()}"></h2>
<h3 id="status" th:text="${actionPoint.getStatus()}"></h3>
<select hidden="hidden" id="statusInput">
	<option th:each="status : ${labels}" th:text="${status}"></option>
</select>
<button class="save btn btn-primary"
		th:if="${#authorization.expression('hasAuthority(''COUNCIL_ADMIN@' + youthCouncil.getMunicipality()+ ''')')}">
	Save
</button>

</body>
</html>
